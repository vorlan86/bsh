
Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create[0m

Terraform will perform the following actions:

[1m  # azurerm_network_interface.primary[0][0m will be created
[0m  [32m+[0m[0m resource "azurerm_network_interface" "primary" {
      [32m+[0m[0m applied_dns_servers         = (known after apply)
      [32m+[0m[0m id                          = (known after apply)
      [32m+[0m[0m internal_domain_name_suffix = (known after apply)
      [32m+[0m[0m location                    = "westeurope"
      [32m+[0m[0m mac_address                 = (known after apply)
      [32m+[0m[0m name                        = "bsh-tst-we-001-nic"
      [32m+[0m[0m private_ip_address          = (known after apply)
      [32m+[0m[0m private_ip_addresses        = (known after apply)
      [32m+[0m[0m resource_group_name         = "bsh-tst-we-rg"
      [32m+[0m[0m virtual_machine_id          = (known after apply)

      [32m+[0m[0m ip_configuration {
          [32m+[0m[0m gateway_load_balancer_frontend_ip_configuration_id = (known after apply)
          [32m+[0m[0m name                                               = "testconfiguration1"
          [32m+[0m[0m primary                                            = (known after apply)
          [32m+[0m[0m private_ip_address                                 = (known after apply)
          [32m+[0m[0m private_ip_address_allocation                      = "Dynamic"
          [32m+[0m[0m private_ip_address_version                         = "IPv4"
          [32m+[0m[0m subnet_id                                          = (known after apply)
        }
    }

[1m  # azurerm_network_interface.primary[1][0m will be created
[0m  [32m+[0m[0m resource "azurerm_network_interface" "primary" {
      [32m+[0m[0m applied_dns_servers         = (known after apply)
      [32m+[0m[0m id                          = (known after apply)
      [32m+[0m[0m internal_domain_name_suffix = (known after apply)
      [32m+[0m[0m location                    = "westeurope"
      [32m+[0m[0m mac_address                 = (known after apply)
      [32m+[0m[0m name                        = "bsh-tst-we-002-nic"
      [32m+[0m[0m private_ip_address          = (known after apply)
      [32m+[0m[0m private_ip_addresses        = (known after apply)
      [32m+[0m[0m resource_group_name         = "bsh-tst-we-rg"
      [32m+[0m[0m virtual_machine_id          = (known after apply)

      [32m+[0m[0m ip_configuration {
          [32m+[0m[0m gateway_load_balancer_frontend_ip_configuration_id = (known after apply)
          [32m+[0m[0m name                                               = "testconfiguration1"
          [32m+[0m[0m primary                                            = (known after apply)
          [32m+[0m[0m private_ip_address                                 = (known after apply)
          [32m+[0m[0m private_ip_address_allocation                      = "Dynamic"
          [32m+[0m[0m private_ip_address_version                         = "IPv4"
          [32m+[0m[0m subnet_id                                          = (known after apply)
        }
    }

[1m  # azurerm_resource_group.primary[0m will be created
[0m  [32m+[0m[0m resource "azurerm_resource_group" "primary" {
      [32m+[0m[0m id       = (known after apply)
      [32m+[0m[0m location = "westeurope"
      [32m+[0m[0m name     = "bsh-tst-we-rg"
      [32m+[0m[0m tags     = {
          [32m+[0m[0m "managedBy" = "Terraform"
          [32m+[0m[0m "owner"     = "catalin.marin"
          [32m+[0m[0m "project"   = "bsh"
          [32m+[0m[0m "region"    = "WestEurope"
        }
    }

[1m  # azurerm_subnet.primary[0m will be created
[0m  [32m+[0m[0m resource "azurerm_subnet" "primary" {
      [32m+[0m[0m address_prefixes                              = [
          [32m+[0m[0m "10.0.0.0/18",
        ]
      [32m+[0m[0m default_outbound_access_enabled               = true
      [32m+[0m[0m id                                            = (known after apply)
      [32m+[0m[0m name                                          = "bsh-tst-we-subnet"
      [32m+[0m[0m private_endpoint_network_policies             = "Disabled"
      [32m+[0m[0m private_link_service_network_policies_enabled = true
      [32m+[0m[0m resource_group_name                           = "bsh-tst-we-rg"
      [32m+[0m[0m virtual_network_name                          = "bsh-tst-we-vnet"
    }

[1m  # azurerm_virtual_machine.main[0][0m will be created
[0m  [32m+[0m[0m resource "azurerm_virtual_machine" "main" {
      [32m+[0m[0m availability_set_id              = (known after apply)
      [32m+[0m[0m delete_data_disks_on_termination = true
      [32m+[0m[0m delete_os_disk_on_termination    = true
      [32m+[0m[0m id                               = (known after apply)
      [32m+[0m[0m license_type                     = (known after apply)
      [32m+[0m[0m location                         = "westeurope"
      [32m+[0m[0m name                             = "bsh-tst-we-001-vm"
      [32m+[0m[0m network_interface_ids            = (known after apply)
      [32m+[0m[0m resource_group_name              = "bsh-tst-we-rg"
      [32m+[0m[0m tags                             = {
          [32m+[0m[0m "managedBy" = "Terraform"
          [32m+[0m[0m "owner"     = "catalin.marin"
          [32m+[0m[0m "project"   = "bsh"
          [32m+[0m[0m "region"    = "WestEurope"
        }
      [32m+[0m[0m vm_size                          = "Standard_DS1_v2"

      [32m+[0m[0m os_profile {
          # At least one attribute in this block is (or was) sensitive,
          # so its contents will not be displayed.
        }

      [32m+[0m[0m os_profile_linux_config {
          [32m+[0m[0m disable_password_authentication = false
        }

      [32m+[0m[0m storage_image_reference {
          [32m+[0m[0m offer     = "0001-com-ubuntu-server-focal"
          [32m+[0m[0m publisher = "Canonical"
          [32m+[0m[0m sku       = "20_04-lts"
          [32m+[0m[0m version   = "latest"
        }

      [32m+[0m[0m storage_os_disk {
          [32m+[0m[0m caching                   = "ReadWrite"
          [32m+[0m[0m create_option             = "FromImage"
          [32m+[0m[0m disk_size_gb              = (known after apply)
          [32m+[0m[0m managed_disk_id           = (known after apply)
          [32m+[0m[0m managed_disk_type         = "Standard_LRS"
          [32m+[0m[0m name                      = "bsh-tst-we-001-disk"
          [32m+[0m[0m os_type                   = (known after apply)
          [32m+[0m[0m write_accelerator_enabled = false
        }
    }

[1m  # azurerm_virtual_machine.main[1][0m will be created
[0m  [32m+[0m[0m resource "azurerm_virtual_machine" "main" {
      [32m+[0m[0m availability_set_id              = (known after apply)
      [32m+[0m[0m delete_data_disks_on_termination = true
      [32m+[0m[0m delete_os_disk_on_termination    = true
      [32m+[0m[0m id                               = (known after apply)
      [32m+[0m[0m license_type                     = (known after apply)
      [32m+[0m[0m location                         = "westeurope"
      [32m+[0m[0m name                             = "bsh-tst-we-002-vm"
      [32m+[0m[0m network_interface_ids            = (known after apply)
      [32m+[0m[0m resource_group_name              = "bsh-tst-we-rg"
      [32m+[0m[0m tags                             = {
          [32m+[0m[0m "managedBy" = "Terraform"
          [32m+[0m[0m "owner"     = "catalin.marin"
          [32m+[0m[0m "project"   = "bsh"
          [32m+[0m[0m "region"    = "WestEurope"
        }
      [32m+[0m[0m vm_size                          = "Standard_DS1_v2"

      [32m+[0m[0m os_profile {
          # At least one attribute in this block is (or was) sensitive,
          # so its contents will not be displayed.
        }

      [32m+[0m[0m os_profile_linux_config {
          [32m+[0m[0m disable_password_authentication = false
        }

      [32m+[0m[0m storage_image_reference {
          [32m+[0m[0m offer     = "0001-com-ubuntu-server-jammy"
          [32m+[0m[0m publisher = "Canonical"
          [32m+[0m[0m sku       = "22_04-lts"
          [32m+[0m[0m version   = "latest"
        }

      [32m+[0m[0m storage_os_disk {
          [32m+[0m[0m caching                   = "ReadWrite"
          [32m+[0m[0m create_option             = "FromImage"
          [32m+[0m[0m disk_size_gb              = (known after apply)
          [32m+[0m[0m managed_disk_id           = (known after apply)
          [32m+[0m[0m managed_disk_type         = "Standard_LRS"
          [32m+[0m[0m name                      = "bsh-tst-we-002-disk"
          [32m+[0m[0m os_type                   = (known after apply)
          [32m+[0m[0m write_accelerator_enabled = false
        }
    }

[1m  # azurerm_virtual_machine_run_command.ping[0][0m will be created
[0m  [32m+[0m[0m resource "azurerm_virtual_machine_run_command" "ping" {
      [32m+[0m[0m id                 = (known after apply)
      [32m+[0m[0m instance_view      = (known after apply)
      [32m+[0m[0m location           = "westeurope"
      [32m+[0m[0m name               = "bsh-tst-we-001-ping"
      [32m+[0m[0m virtual_machine_id = (known after apply)

      [32m+[0m[0m source {
          [32m+[0m[0m script = (known after apply)
        }
    }

[1m  # azurerm_virtual_machine_run_command.ping[1][0m will be created
[0m  [32m+[0m[0m resource "azurerm_virtual_machine_run_command" "ping" {
      [32m+[0m[0m id                 = (known after apply)
      [32m+[0m[0m instance_view      = (known after apply)
      [32m+[0m[0m location           = "westeurope"
      [32m+[0m[0m name               = "bsh-tst-we-002-ping"
      [32m+[0m[0m virtual_machine_id = (known after apply)

      [32m+[0m[0m source {
          [32m+[0m[0m script = (known after apply)
        }
    }

[1m  # azurerm_virtual_network.primary[0m will be created
[0m  [32m+[0m[0m resource "azurerm_virtual_network" "primary" {
      [32m+[0m[0m address_space       = [
          [32m+[0m[0m "10.0.0.0/16",
        ]
      [32m+[0m[0m dns_servers         = (known after apply)
      [32m+[0m[0m guid                = (known after apply)
      [32m+[0m[0m id                  = (known after apply)
      [32m+[0m[0m location            = "westeurope"
      [32m+[0m[0m name                = "bsh-tst-we-vnet"
      [32m+[0m[0m resource_group_name = "bsh-tst-we-rg"
      [32m+[0m[0m subnet              = (known after apply)
      [32m+[0m[0m tags                = {
          [32m+[0m[0m "managedBy" = "Terraform"
          [32m+[0m[0m "owner"     = "catalin.marin"
          [32m+[0m[0m "project"   = "bsh"
          [32m+[0m[0m "region"    = "WestEurope"
        }
    }

[1m  # random_password.vm_passwords[0][0m will be created
[0m  [32m+[0m[0m resource "random_password" "vm_passwords" {
      [32m+[0m[0m bcrypt_hash = (sensitive value)
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m length      = 24
      [32m+[0m[0m lower       = true
      [32m+[0m[0m min_lower   = 0
      [32m+[0m[0m min_numeric = 0
      [32m+[0m[0m min_special = 0
      [32m+[0m[0m min_upper   = 0
      [32m+[0m[0m number      = true
      [32m+[0m[0m numeric     = true
      [32m+[0m[0m result      = (sensitive value)
      [32m+[0m[0m special     = false
      [32m+[0m[0m upper       = true
    }

[1m  # random_password.vm_passwords[1][0m will be created
[0m  [32m+[0m[0m resource "random_password" "vm_passwords" {
      [32m+[0m[0m bcrypt_hash = (sensitive value)
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m length      = 24
      [32m+[0m[0m lower       = true
      [32m+[0m[0m min_lower   = 0
      [32m+[0m[0m min_numeric = 0
      [32m+[0m[0m min_special = 0
      [32m+[0m[0m min_upper   = 0
      [32m+[0m[0m number      = true
      [32m+[0m[0m numeric     = true
      [32m+[0m[0m result      = (sensitive value)
      [32m+[0m[0m special     = false
      [32m+[0m[0m upper       = true
    }

[1mPlan:[0m 11 to add, 0 to change, 0 to destroy.
[0m
Changes to Outputs:
  [32m+[0m[0m ping_outputs   = [
      [32m+[0m[0m (known after apply),
      [32m+[0m[0m (known after apply),
    ]
  [32m+[0m[0m vm_credentials = [
      [32m+[0m[0m {
          [32m+[0m[0m password    = (known after apply)
          [32m+[0m[0m ping_output = (known after apply)
          [32m+[0m[0m vm_name     = "bsh-tst-we-001-vm"
        },
      [32m+[0m[0m {
          [32m+[0m[0m password    = (known after apply)
          [32m+[0m[0m ping_output = (known after apply)
          [32m+[0m[0m vm_name     = "bsh-tst-we-002-vm"
        },
    ]
[0m[1mrandom_password.vm_passwords[1]: Creating...[0m[0m
[0m[1mrandom_password.vm_passwords[0]: Creating...[0m[0m
[0m[1mrandom_password.vm_passwords[0]: Creation complete after 0s [id=none][0m
[0m[1mrandom_password.vm_passwords[1]: Creation complete after 0s [id=none][0m
[0m[1mazurerm_resource_group.primary: Creating...[0m[0m
[0m[1mazurerm_resource_group.primary: Still creating... [10s elapsed][0m[0m
[0m[1mazurerm_resource_group.primary: Creation complete after 12s [id=/subscriptions/set_subscription_id/resourceGroups/bsh-tst-we-rg][0m
[0m[1mazurerm_virtual_network.primary: Creating...[0m[0m
[0m[1mazurerm_virtual_network.primary: Creation complete after 8s [id=/subscriptions/set_subscription_id/resourceGroups/bsh-tst-we-rg/providers/Microsoft.Network/virtualNetworks/bsh-tst-we-vnet][0m
[0m[1mazurerm_subnet.primary: Creating...[0m[0m
[0m[1mazurerm_subnet.primary: Creation complete after 8s [id=/subscriptions/set_subscription_id/resourceGroups/bsh-tst-we-rg/providers/Microsoft.Network/virtualNetworks/bsh-tst-we-vnet/subnets/bsh-tst-we-subnet][0m
[0m[1mazurerm_network_interface.primary[0]: Creating...[0m[0m
[0m[1mazurerm_network_interface.primary[1]: Creating...[0m[0m
[0m[1mazurerm_network_interface.primary[0]: Still creating... [10s elapsed][0m[0m
[0m[1mazurerm_network_interface.primary[1]: Still creating... [10s elapsed][0m[0m
[0m[1mazurerm_network_interface.primary[0]: Creation complete after 15s [id=/subscriptions/set_subscription_id/resourceGroups/bsh-tst-we-rg/providers/Microsoft.Network/networkInterfaces/bsh-tst-we-001-nic][0m
[0m[1mazurerm_network_interface.primary[1]: Still creating... [20s elapsed][0m[0m
[0m[1mazurerm_network_interface.primary[1]: Creation complete after 27s [id=/subscriptions/set_subscription_id/resourceGroups/bsh-tst-we-rg/providers/Microsoft.Network/networkInterfaces/bsh-tst-we-002-nic][0m
[0m[1mazurerm_virtual_machine.main[0]: Creating...[0m[0m
[0m[1mazurerm_virtual_machine.main[1]: Creating...[0m[0m
[0m[1mazurerm_virtual_machine.main[0]: Still creating... [10s elapsed][0m[0m
[0m[1mazurerm_virtual_machine.main[1]: Still creating... [10s elapsed][0m[0m
[0m[1mazurerm_virtual_machine.main[1]: Creation complete after 17s [id=/subscriptions/set_subscription_id/resourceGroups/bsh-tst-we-rg/providers/Microsoft.Compute/virtualMachines/bsh-tst-we-002-vm][0m
[0m[1mazurerm_virtual_machine.main[0]: Still creating... [20s elapsed][0m[0m
[0m[1mazurerm_virtual_machine.main[0]: Still creating... [30s elapsed][0m[0m
[0m[1mazurerm_virtual_machine.main[0]: Still creating... [40s elapsed][0m[0m
[0m[1mazurerm_virtual_machine.main[0]: Creation complete after 50s [id=/subscriptions/set_subscription_id/resourceGroups/bsh-tst-we-rg/providers/Microsoft.Compute/virtualMachines/bsh-tst-we-001-vm][0m
[0m[1mazurerm_virtual_machine_run_command.ping[1]: Creating...[0m[0m
[0m[1mazurerm_virtual_machine_run_command.ping[0]: Creating...[0m[0m
[0m[1mazurerm_virtual_machine_run_command.ping[0]: Still creating... [10s elapsed][0m[0m
[0m[1mazurerm_virtual_machine_run_command.ping[1]: Still creating... [10s elapsed][0m[0m
[0m[1mazurerm_virtual_machine_run_command.ping[1]: Creation complete after 11s [id=/subscriptions/set_subscription_id/resourceGroups/bsh-tst-we-rg/providers/Microsoft.Compute/virtualMachines/bsh-tst-we-002-vm/runCommands/bsh-tst-we-002-ping][0m
[0m[1mazurerm_virtual_machine_run_command.ping[0]: Creation complete after 11s [id=/subscriptions/set_subscription_id/resourceGroups/bsh-tst-we-rg/providers/Microsoft.Compute/virtualMachines/bsh-tst-we-001-vm/runCommands/bsh-tst-we-001-ping][0m
[33m╷[0m[0m
[33m│[0m [0m[1m[33mWarning: [0m[0m[1mValue for undeclared variable[0m
[33m│[0m [0m
[33m│[0m [0m[0mThe root module does not declare a variable named "vm_count" but a value was found in file "../envs/tst.tfvars". If you meant to use this value, add a "variable" block to the configuration.
[33m│[0m [0m
[33m│[0m [0mTo silence these warnings, use TF_VAR_... environment variables to provide certain "global" settings to all configurations in your organization. To reduce the verbosity of these warnings, use the -compact-warnings option.
[33m╵[0m[0m
[0m[1m[32m
Apply complete! Resources: 11 added, 0 changed, 0 destroyed.
[0m[0m[1m[32m
Outputs:

[0mping_outputs = [
  "pass",
  "pass",
]
vm_credentials = [
  {
    "password" = "FPoziK2zyhwoU12XVThHShVu"
    "ping_output" = "pass"
    "vm_name" = "bsh-tst-we-001-vm"
  },
  {
    "password" = "hUzN3jJWpVmp3leAHxWXxcIZ"
    "ping_output" = "pass"
    "vm_name" = "bsh-tst-we-002-vm"
  },
]
